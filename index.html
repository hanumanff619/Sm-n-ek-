<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Smƒõn√°≈ôek</title>
  <meta name="theme-color" content="#102a4a">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    :root{
      --bg:#0c1d33;
      --panel:#123055;
      --ink:#eaf2ff;
      --muted:#a9c3e6;
      --accent:#6cc0ff;
      --line:#2a4f7c;
      --sel:#1e78d799;
      --good:#5bd39a;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto}
    header{position:sticky;top:0;z-index:5;background:linear-gradient(180deg,rgba(12,29,51,.95),rgba(12,29,51,.7));backdrop-filter:blur(6px)}
    .bar{display:flex;gap:.5rem;align-items:center;justify-content:space-between;padding:.8rem 1rem}
    h1{font-size:1.2rem;margin:0;display:flex;gap:.6rem;align-items:center}
    .btn{border:1px solid var(--line);background:var(--panel);color:var(--ink);padding:.55rem .8rem;border-radius:12px;cursor:pointer}
    .btn.acc{background:var(--accent);color:#042039;border:none}
    .muted{color:var(--muted)}
    .wrap{max-width:1200px;margin:0 auto;padding:1rem}
    .grid{display:grid;grid-template-columns:1fr;gap:.9rem}
    @media(min-width:1100px){.grid{grid-template-columns:1.5fr 1fr}}
    .card{background:var(--panel);border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.25);padding:1rem}
    hr{border:none;border-top:1px solid var(--line);margin:1rem 0}
    input,select,textarea{width:100%;padding:.65rem .75rem;border-radius:12px;border:1px solid var(--line);background:#0c2240;color:var(--ink)}
    input:focus,select:focus,textarea:focus{outline:2px solid var(--accent);border-color:transparent}
    label{display:block;font-size:.9rem;margin:.45rem 0 .25rem;color:var(--muted)}
    .row{display:flex;gap:.6rem;flex-wrap:wrap;align-items:center}
    .chip{padding:.3rem .7rem;border:1px solid var(--line);border-radius:99px}
    .calendar{width:100%;border-collapse:collapse}
    .calendar th,.calendar td{border:1px solid var(--line);padding:.35rem;vertical-align:top}
    .calendar th{color:var(--muted);font-weight:600;text-align:center;background:#0e2646}
    .calendar td{height:92px;position:relative;background:#0f2748;transition:background .15s ease}
    .calendar td.selected{background:var(--sel)!important;box-shadow:inset 0 0 0 2px #75c7ff99}
    .daynum{position:absolute;top:.35rem;right:.35rem;color:var(--muted);font-size:.85rem}
    .badge{display:inline-block;margin-top:1.2rem;padding:.2rem .5rem;border-radius:8px;font-size:.85rem}
    .D{background:rgba(108,192,255,.17)}
    .N{background:rgba(255,188,104,.14)}
    .tot{display:flex;justify-content:space-between;padding:.4rem .6rem;border:1px solid var(--line);border-radius:10px;margin:.3rem 0}
    .tot b{color:var(--good)}
    .bigline{margin-top:.6rem;padding:.6rem .8rem;border-radius:12px;border:1px solid var(--line);display:flex;justify-content:space-between;font-weight:600}
    .hruba{background:rgba(108,192,255,.12)}
    .cista{background:rgba(91,211,154,.12)}
    .note{font-size:.86rem}
  </style>
</head>
<body>
<header>
  <div class="bar">
    <h1>üóìÔ∏è Smƒõn√°≈ôek</h1>
    <div class="row">
      <button id="install" class="btn">Instalovat</button>
      <button id="export" class="btn">Export</button>
      <label class="btn"><input type="file" id="import" hidden>P≈ôidat</label>
      <button id="lockMonth" class="btn">Z√°mek</button>
    </div>
  </div>
  <div class="bar muted" id="widget">Dnes: ‚Äî</div>
</header>

<div class="wrap grid">
  <section class="card">
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="row">
        <button class="btn" id="prev">&larr;</button>
        <div id="monthLabel" class="chip"></div>
        <button class="btn" id="next">&rarr;</button>
      </div>
      <div class="row">
        <button class="btn acc" id="setToday">Dnes D/N</button>
        <button class="btn" id="clearDay">Vymazat den</button>
      </div>
    </div>
    <table class="calendar" id="cal"></table>
  </section>

  <aside class="card">
    <h3 style="margin-top:0">Rychl√° akce</h3>
    <div class="row">
      <select id="batchType">
        <option value="D">D</option>
        <option value="N">N</option>
        <option value="">‚Äî</option>
      </select>
      <input id="batchFrom" type="date">
      <input id="batchTo" type="date">
      <button class="btn acc" id="applyBatch">Aplikovat</button>
    </div>
    <hr>
    <h3>Gener√°tor rozpisu</h3>
    <div class="row">
      <textarea id="pattern" rows="3"></textarea>
      <input id="patternStart" type="date">
      <button class="btn" id="applyPattern">Generovat</button>
    </div>
    <p class="note muted">Vzor: DNNOO (D=den, N=noc, O=volno). Aplikuje se postupnƒõ od data.</p>
    <hr>
    <h3>Import textem</h3>
    <div class="row">
      <textarea id="raw" rows="3"></textarea>
      <button class="btn" id="applyImport">Naƒç√≠st</button>
    </div>
    <p class="note muted">≈ò√°dek: YYYY-MM-DD D|N|O</p>
    <hr>
    <h3>Statistiky mƒõs√≠ce</h3>
    <div id="stats" class="note"></div>
    <p class="note muted">D: 05:45‚Äì18:00, N: 17:45‚Äì06:00. Pauza 1h. Obƒõdy jen denn√≠.</p>
    <hr>
    <h3>Mzda (vstupy)</h3>
    <label for="rate_base">Z√°kladn√≠ hodinovka</label><input id="rate_base" type="number">
    <label for="rate_odpo">Odpoledn√≠ p≈ô√≠platek</label><input id="rate_odpo" type="number">
    <label for="rate_noc">Noƒçn√≠ p≈ô√≠platek</label><input id="rate_noc" type="number">
    <label for="rate_vikend">V√≠kendov√Ω p≈ô√≠platek</label><input id="rate_vikend" type="number">
    <label for="rate_svatek">Sv√°tek</label><input id="rate_svatek" type="number">
    <label for="rate_nepretrzity">Nep≈ôetr≈æit√Ω provoz</label><input id="rate_nepretrzity" type="number">
    <label for="vac_hours">Dovolen√° (v hodin√°ch)</label><input id="vac_hours" type="number">
    <label for="bonus_prime">P≈ô√≠m√© pr√©mie</label><input id="bonus_prime" type="number">
    <label for="meal_value">Hodnota stravenky (Kƒç/ks)</label><input id="meal_value" type="number">
    <div id="pay" style="margin-top:.6rem"></div>
    <div id="net" class="note"></div>
  </aside>
</div>

<script src="app.js?v=4"></script>
</body>
</html>
